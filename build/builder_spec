FROM golang:1.17.2-alpine3.14

ARG LEDGER_ENABLED
ENV LEDGER_ENABLED=${LEDGER_ENABLED:-false}

ARG BUILD_TAGS
ENV BUILD_TAGS=${BUILD_TAGS:-muslc}

#credit goes to https://github.com/provenance-io/wasmd/blob/v0.19.0/Dockerfile for details on muslc build
RUN set -eux; apk add --no-cache ca-certificates build-base;

RUN apk add git

CMD ["/bin/sh"]